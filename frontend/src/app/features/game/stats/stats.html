<div class="page-container fade-in">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <mat-card class="app-card card-primary stats-header-card">
          <mat-card-header>
            <mat-card-title>
              üìä Your Game Statistics
            </mat-card-title>
            <mat-card-subtitle>
              Track your progress and achievements
            </mat-card-subtitle>
          </mat-card-header>
        </mat-card>
      </div>
    </div>

    @if (loading()) {
      <div class="text-center py-5">
        <mat-spinner diameter="60"></mat-spinner>
        <p class="mt-3">Loading your statistics...</p>
      </div>
    }

        @if (error()) {
          <div class="row">
            <div class="col-12">
              <div class="app-alert alert-danger">
                ‚ö†Ô∏è {{ error() }}
              </div>
            </div>
          </div>
        }    @if (stats() && !loading()) {
      <div class="row">
        <!-- Overall Statistics -->
        <div class="col-lg-8">
            <mat-card class="stats-card">
              <mat-card-header>
                <mat-card-title>
                  üìä Overall Performance
                </mat-card-title>
              </mat-card-header>            <mat-card-content>
              <div class="row stats-grid">
                <div class="col-md-3 col-sm-6">
                  <div class="stat-item">
                    <div class="stat-value">{{ stats()!.totalGames }}</div>
                    <div class="stat-label">Total Games</div>
                  </div>
                </div>
                
                <div class="col-md-3 col-sm-6">
                  <div class="stat-item">
                    <div class="stat-value text-success">{{ stats()!.gamesWon }}</div>
                    <div class="stat-label">Games Won</div>
                  </div>
                </div>
                
                <div class="col-md-3 col-sm-6">
                  <div class="stat-item">
                    <div class="stat-value text-warning">{{ stats()!.totalScore }}</div>
                    <div class="stat-label">Total Score</div>
                  </div>
                </div>
                
                <div class="col-md-3 col-sm-6">
                  <div class="stat-item">
                    <div class="stat-value text-primary">{{ getWinRate() }}%</div>
                    <div class="stat-label">Win Rate</div>
                  </div>
                </div>
              </div>

              <mat-divider class="my-4"></mat-divider>

              <div class="row">
                <div class="col-12">
                  <h6 class="section-title">
                    üìà Best Performance
                  </h6>
                  <div class="average-stats">
                    <div class="avg-item">
                      <span class="avg-value">{{ stats()!.bestAttempts }}</span>
                      <span class="avg-label">Best Attempts</span>
                    </div>
                  </div>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>

   <!-- Motivational Messages -->
        <div class="col-lg-4">
                  <mat-card class="motivation-card">
            <mat-card-content>
              <div class="motivation-content">
                @if (stats()!.totalGames === 0) {
                  <div class="motivation-message">
                    üöÄ <h5>Ready to Start Your Journey?</h5>
                    <p>Play your first game and begin tracking your progress!</p>
                  </div>
                } @else if (getWinRate() >= 80) {
                  <div class="motivation-message">
                    üèÖ <h5>Excellent Performance!</h5>
                    <p>You're a guessing master with a {{ getWinRate() }}% win rate!</p>
                  </div>
                } @else if (getWinRate() >= 50) {
                  <div class="motivation-message">
                    üìà <h5>Good Progress!</h5>
                    <p>Keep playing to improve your {{ getWinRate() }}% win rate!</p>
                  </div>
                } @else {
                  <div class="motivation-message">
                    üß† <h5>Practice Makes Perfect!</h5>
                    <p>Every game is a chance to improve. Keep guessing!</p>
                  </div>
                }
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    }
  </div>
</div>
